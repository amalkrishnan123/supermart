{% extends "navbar.html" %}
{% block username %}
<div class="ms-auto text-end">
    <h2 class="text-white mb-0">HELLO {{ request.user.username|upper }}</h2>
</div>
{% endblock username %}
{% block content %}
<div class="container mt-5 d-flex justify-content-center">
    <div class="card p-4 shadow" style="width: 400px;">

        <h4 class="text-center mb-3 text-primary">User Profile</h4>
        <p class="text-center text-muted mb-4">
            Your account & address details
        </p>

        <!-- USER DETAILS -->
        <div class="mb-3">
            <label class="fw-bold text-primary">Username</label>
            <div class="form-control bg-light">{{ profile.user.username }}</div>
        </div>

        <div class="mb-3">
            <label class="fw-bold text-primary">Email</label>
            <div class="form-control bg-light">{{ profile.user.email }}</div>
        </div>

        <div class="mb-3">
            <label class="fw-bold text-primary">Mobile</label>
            <div class="form-control bg-light">{{ profile.mobile }}</div>
        </div>

       <div class="mb-3">
            <label class="fw-bold text-primary">Password</label>
            <input type="text" class="form-control bg-light" value="{{ dots }}" readonly>

        </div>



        <!-- ADDRESS DETAILS -->
        {% if profile.address %}
        <hr>

        <h5 class="text-primary text-center mb-3">Address Details</h5>

        <div class="mb-3">
            <label class="fw-bold text-primary">Address</label>
            <div class="form-control bg-light">{{ profile.address.address }}</div>
        </div>

        <div class="mb-3">
            <label class="fw-bold text-primary">Pincode</label>
            <div class="form-control bg-light">{{ profile.address.pincode }}</div>
        </div>

        <div class="mb-3">
            <label class="fw-bold text-primary">District</label>
            <div class="form-control bg-light">{{ profile.address.district }}</div>
        </div>

        <div class="mb-3">
            <label class="fw-bold text-primary">State</label>
            <div class="form-control bg-light">{{ profile.address.state }}</div>
        </div>

        {% else %}
        <p class="text-center text-muted">No address added.</p>
        {% endif %}

        <a href="{% url 'edit_address' %}" class="btn btn-primary w-100 mt-3">
            Edit Address
        </a>
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary mt-2" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Add address
        </button>

    </div>
</div>



<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="{% url 'add_address' %}" method='post'>
                {% csrf_token %}
                <label for='address'/>Address</label>
                <input type='text' name='address'/><br>
                <label for='pincode'/>Pin Code</label>
                <input type='number' name='pincode'/>
                <br>
                <label for='district'/>District</label>
                <input type='text' name='district'/>
                <br>
                <label for='state'/>State</label>
                <input type='text' name='state'/>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
        </form> 
      </div>
    </div>
  </div>
</div>
{% endblock content %}


